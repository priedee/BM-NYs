<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Base Motion NY card</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <style>
      #loader {
        position: fixed;
        inset: 0;
        background: #000;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        font-family: sans-serif;
        font-size: 15px;
        transition: opacity 0.5s ease;
      }
      #loader.hidden {
        opacity: 0;
        pointer-events: none;
      }
    </style>
  </head>

  <body>

    <!-- LOADING SCREEN -->
    <div id="loader">Loadingâ€¦</div>

    <a-scene
      loading-screen="enabled: false"
      renderer="precision: mediump; physicallyCorrectLights: false">

      <!-- ASSETS (MODEL ONLY) -->
      <a-assets>
        <a-asset-item id="myModel" src="AINAVA13.glb"></a-asset-item>
      </a-assets>

      <!-- VIDEO (NOT in assets) -->
      <video
        id="video360"
        src="bckgrnd_1.mp4"
        muted
        loop
        playsinline
        preload="auto"
        style="width:1px;height:1px;position:fixed;bottom:0;">
      </video>

      <!-- MODEL -->
      <a-entity
        id="model"
        gltf-model="#myModel"
        position="0 0 0"
        rotation="0 90 0"
        scale="1 1 1">
      </a-entity>

      <!-- CAMERA -->
      <a-entity
        camera
        look-controls
        position="-0.8 3 0.9"
        rotation="17.3 88.7 -3.5"
        fov="50">
      </a-entity>

      <!-- LIGHTS (UNCHANGED) -->
      <a-light type="ambient" intensity="0.12" color="#74A7FE"></a-light>

      <a-light
        type="directional"
        intensity="0.1"
        position="-10 9 -0.5"
        color="#001E57">
      </a-light>

      <a-light type="spot" intensity="1.5" position="-17.5 -16.5 10.5"
        rotation="90 180 0" penumbra="1" angle="30" color="#FFAA00"></a-light>

      <a-light type="spot" intensity="1.33" position="-16.98 -12.1 -6.5"
        rotation="90 180 0" penumbra="1" angle="26.2" color="#ffaa00"></a-light>

      <a-light type="spot" intensity="0.85" position="3 -12.1 22.4"
        rotation="90 180 0" penumbra="1" angle="20.2" color="#ffb43f"></a-light>

         <a-light type="spot" intensity="1.5" position="-5.3 -14.5 -18.2"
        rotation="90 180 0" penumbra="1" angle="22" color="#FFAA00"></a-light>

      <a-light type="spot" intensity="1" position="4.9 -12.1 12.4"
        rotation="77 -176 105" penumbra="1" angle="20.6" color="#ffb43f"></a-light>

      <a-light type="spot" intensity="1.2" position="9.1 -14.1 -8.13"
        rotation="90 180 0" penumbra="1" angle="20.6" color="#FEB43F"></a-light>

      <a-light type="spot" intensity="1.2" position="20.4 -5.4 6.45"
        rotation="90 180 0" penumbra="1" angle="40" color="#FEB43F"></a-light>

   

    </a-scene>

    <script>
      const loader = document.getElementById('loader');
      const video = document.getElementById('video360');
      const scene = document.querySelector('a-scene');

      let started = false;

      // Attempt autoplay (desktop / Android)
      video.play().then(startScene).catch(() => {
        loader.textContent = 'Tap to enter';
      });

      // iPhone fallback
      loader.addEventListener('touchstart', userStart, { once: true });
      loader.addEventListener('click', userStart, { once: true });

      function userStart() {
        if (started) return;
        video.play().then(startScene);
      }

      function startScene() {
        if (started) return;
        started = true;

        const sphere = document.createElement('a-videosphere');
        sphere.setAttribute('src', '#video360');
        sphere.setAttribute('rotation', '0 0 -10');
        scene.appendChild(sphere);

        loader.classList.add('hidden');
        setTimeout(() => loader.remove(), 500);
      }
    </script>

  </body>
</html>

